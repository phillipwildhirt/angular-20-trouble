// Do NOT directly import this to your component. Instead use @include
@use 'sass:map';
@import 'src/variables';

@mixin input-group-with-icon() {
  border-color  : $input-border-color;
  border-radius : $input-border-radius-sm;
  outline       : 0;
  box-shadow    : none;
  transition    : border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

  & .end-borders {
    border-bottom : $input-border-width solid $input-border-color;
    border-top    : $input-border-width solid $input-border-color;
    border-right  : $input-border-width solid $input-border-color;
    border-radius : 0 $input-border-radius-sm $input-border-radius-sm 0;
    transition    : border-color 0.15s ease-in-out;
  }

  &.focus-group, &:focus-within {
    background    : $input-focus-bg;
    border-color  : $input-focus-border-color;
    outline       : 0;
    box-shadow    : $input-focus-box-shadow;
    border-radius : $input-border-radius-sm;
    transition    : border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

    & input {
      border-color : $input-focus-border-color;
      outline      : 0;
      box-shadow   : none;
    }

    & .end-borders {
      border-bottom : $input-border-width solid $input-focus-border-color;
      border-top    : $input-border-width solid $input-focus-border-color;
      border-right  : $input-border-width solid $input-focus-border-color;
    }

    &.invalid-group, &.is-invalid {
      border-color : var(--#{$prefix}form-invalid-border-color);
      box-shadow   : map.get(map.get($form-validation-states, "invalid"), "focus-box-shadow");
      transition   : border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

      & input {
        border-color : var(--#{$prefix}form-invalid-border-color);
      }

      & .end-borders {
        border-bottom : $input-border-width solid var(--#{$prefix}form-invalid-border-color);
        border-top    : $input-border-width solid var(--#{$prefix}form-invalid-border-color);
        border-right  : $input-border-width solid var(--#{$prefix}form-invalid-border-color);
      }
    }
  }

  &.invalid-group, &.is-invalid {
    border-color : var(--#{$prefix}form-invalid-border-color);
    transition   : border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

    .end-borders {
      border-bottom : $input-border-width solid var(--#{$prefix}form-invalid-border-color);
      border-top    : $input-border-width solid var(--#{$prefix}form-invalid-border-color);
      border-right  : $input-border-width solid var(--#{$prefix}form-invalid-border-color);
      transition    : border-color 0.15s ease-in-out;
    }
  }
}
